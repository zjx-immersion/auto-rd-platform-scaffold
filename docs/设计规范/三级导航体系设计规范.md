# ä¸‰çº§å¯¼èˆªä½“ç³»è®¾è®¡è§„èŒƒ

**ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2026-01-28  
**é€‚ç”¨èŒƒå›´**: æ±½è½¦ç ”å‘ç®¡ç†å¹³å°ï¼ˆauto-rd-platformï¼‰  
**æ¡†æ¶**: React 19 + TypeScript + Ant Design 6

---

## ğŸ“– ç›®å½•

1. [è®¾è®¡ç†å¿µ](#è®¾è®¡ç†å¿µ)
2. [æ¶æ„æ¦‚è§ˆ](#æ¶æ„æ¦‚è§ˆ)
3. [å¯¼èˆªå±‚çº§è¯¦è§£](#å¯¼èˆªå±‚çº§è¯¦è§£)
4. [å®æ–½è§„èŒƒ](#å®æ–½è§„èŒƒ)
5. [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
6. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## è®¾è®¡ç†å¿µ

### æ ¸å¿ƒåŸåˆ™

1. **å±‚æ¬¡æ¸…æ™°**: ä¸‰çº§å¯¼èˆªå±‚å±‚é€’è¿›ï¼Œé€»è¾‘æ¸…æ™°
2. **æ“ä½œä¸€è‡´**: æ‰€æœ‰æ¨¡å—çš„å¯¼èˆªè¡Œä¸ºä¿æŒä¸€è‡´
3. **çŠ¶æ€åŒæ­¥**: å¯¼èˆªçŠ¶æ€ä¸URLã€è§†å›¾å†…å®¹å®Œå…¨åŒæ­¥
4. **ç”¨æˆ·å‹å¥½**: æä¾›æ¸…æ™°çš„è§†è§‰åé¦ˆå’Œå¯¼èˆªè·¯å¾„

### è®¾è®¡ç›®æ ‡

- **é™ä½è®¤çŸ¥è´Ÿæ‹…**: ç”¨æˆ·æ— éœ€å­¦ä¹ ä¸åŒæ¨¡å—çš„ä¸åŒæ“ä½œæ–¹å¼
- **æå‡æ“ä½œæ•ˆç‡**: å¿«é€Ÿå®šä½å’Œåˆ‡æ¢åŠŸèƒ½
- **æ”¯æŒå¤æ‚åœºæ™¯**: é€‚åº”ä»ç®€å•åˆ°å¤æ‚çš„å„ç§ä¸šåŠ¡åœºæ™¯

---

## æ¶æ„æ¦‚è§ˆ

### å¯¼èˆªå±‚çº§ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         é¡¶éƒ¨Header                           â”‚
â”‚  [Logo] [æœç´¢] [åˆ›å»º] [å¸®åŠ©] [é€šçŸ¥] [ç”¨æˆ·]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        â”‚                                                   â”‚
â”‚  ä¸€çº§  â”‚                  ä¸»å†…å®¹åŒºåŸŸ                        â”‚
â”‚  å¯¼èˆª  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚        â”‚  â”‚         äºŒçº§å¯¼èˆªï¼ˆè¯¦æƒ…è§†å›¾Tabï¼‰           â”‚     â”‚
â”‚ (ä¾§è¾¹) â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚ å·¥ä½œå° â”‚  â”‚  ä¸‰çº§  â”‚                             â”‚        â”‚
â”‚ é¡¹ç›®   â”‚  â”‚  å¯¼èˆª  â”‚      å†…å®¹å±•ç¤ºåŒº              â”‚        â”‚
â”‚ äº§å“   â”‚  â”‚ (å·¦ä¾§) â”‚                             â”‚        â”‚
â”‚ æ–¹æ¡ˆ   â”‚  â”‚        â”‚                             â”‚        â”‚
â”‚ è§„åˆ’   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚ ...    â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è§†å›¾æ¨¡å¼

ç³»ç»Ÿæ”¯æŒä¸¤ç§è§†å›¾æ¨¡å¼ï¼š

#### 1. åˆ—è¡¨è§†å›¾ï¼ˆList Viewï¼‰
- **è§¦å‘**: ç‚¹å‡»ä¸€çº§å¯¼èˆª
- **URLæ¨¡å¼**: `/{module}`
- **æ˜¾ç¤ºå†…å®¹**: 
  - ä¸€çº§å¯¼èˆªé«˜äº®
  - ä¸‰çº§å¯¼èˆªæ˜¾ç¤ºï¼ˆå·¦ä¾§ï¼‰
  - åˆ—è¡¨æ•°æ®å±•ç¤ºï¼ˆå³ä¾§ï¼‰

#### 2. è¯¦æƒ…è§†å›¾ï¼ˆDetail Viewï¼‰
- **è§¦å‘**: ç‚¹å‡»åˆ—è¡¨ä¸­çš„æŸä¸€é¡¹
- **URLæ¨¡å¼**: `/{module}/{id}/{tab}`
- **æ˜¾ç¤ºå†…å®¹**:
  - ä¸€çº§å¯¼èˆªé«˜äº®
  - äºŒçº§å¯¼èˆªTabæ˜¾ç¤ºï¼ˆé¡¶éƒ¨ï¼‰
  - ä¸‰çº§å¯¼èˆªæ˜¾ç¤ºï¼ˆå·¦ä¾§ï¼Œæ ¹æ®äºŒçº§Tabå˜åŒ–ï¼‰
  - è¯¦æƒ…å†…å®¹å±•ç¤ºï¼ˆå³ä¾§ï¼‰

---

## å¯¼èˆªå±‚çº§è¯¦è§£

### ä¸€çº§å¯¼èˆªï¼ˆPrimary Navigationï¼‰

**ä½ç½®**: å·¦ä¾§å›ºå®š/æ‚¬æµ®ä¾§è¾¹æ   
**ä½œç”¨**: æ¨¡å—åˆ‡æ¢ï¼ˆC0-C7 èƒ½åŠ›åŸŸï¼‰  
**äº¤äº’**: ç‚¹å‡»åˆ‡æ¢æ¨¡å—

#### é…ç½®ç»“æ„
```typescript
interface NavigationModule {
  title: string              // æ¨¡å—æ ‡é¢˜
  icon: string              // å›¾æ ‡
  description: string       // æè¿°
  actions?: ActionButton[]  // é¡¶éƒ¨æ“ä½œæŒ‰é’®
  listTertiaryNav?: NavItem[]                    // åˆ—è¡¨è§†å›¾çš„ä¸‰çº§å¯¼èˆª
  detailSecondaryNav?: NavItem[]                 // è¯¦æƒ…è§†å›¾çš„äºŒçº§å¯¼èˆª
  detailTertiaryNav?: Record<string, NavItem[]>  // è¯¦æƒ…è§†å›¾çš„ä¸‰çº§å¯¼èˆªï¼ˆæŒ‰äºŒçº§Tabåˆ†ç»„ï¼‰
}
```

#### ç¤ºä¾‹
```typescript
c0: {
  title: 'é¡¹ç›®ç®¡ç†',
  icon: 'ğŸ“Š',
  description: 'é¢†åŸŸé¡¹ç›®ç®¡ç†ã€ä¸‰çº§è®¡åˆ’ä½“ç³»ã€åŸºçº¿ç®¡ç†',
  actions: [
    { text: 'åˆ›å»ºé¡¹ç›®', icon: 'â•', type: 'primary', handler: 'showCreateDomainProject' }
  ],
  listTertiaryNav: [
    { id: 'all', icon: 'ğŸ“', text: 'å…¨éƒ¨é¡¹ç›®' },
    { id: 'my', icon: 'ğŸ‘¤', text: 'æˆ‘çš„é¡¹ç›®' }
  ],
  // ...
}
```

### äºŒçº§å¯¼èˆªï¼ˆSecondary Navigationï¼‰

**ä½ç½®**: Headerä¸­é—´åŒºåŸŸï¼ˆè¯¦æƒ…è§†å›¾æ—¶æ˜¾ç¤ºï¼‰  
**ä½œç”¨**: Tabåˆ‡æ¢ï¼ˆæ¦‚è§ˆã€è§„åˆ’ã€éœ€æ±‚ç­‰ï¼‰  
**äº¤äº’**: ç‚¹å‡»åˆ‡æ¢Tabï¼Œè§¦å‘å†…å®¹åŒºåŸŸæ›´æ–°å’Œä¸‰çº§å¯¼èˆªå˜åŒ–

#### æ˜¾ç¤ºè§„åˆ™
- **åˆ—è¡¨è§†å›¾**: ä¸æ˜¾ç¤º
- **è¯¦æƒ…è§†å›¾**: æ˜¾ç¤ºä¸ºTabs

#### é…ç½®ç»“æ„
```typescript
detailSecondaryNav: [
  { id: 'overview', text: 'æ¦‚è§ˆ', url: '/c0/:id/overview' },
  { id: 'plan', text: 'è§„åˆ’', url: '/c0/:id/plan' },
  { id: 'requirements', text: 'éœ€æ±‚', url: '/c0/:id/requirements' }
]
```

### ä¸‰çº§å¯¼èˆªï¼ˆTertiary Navigationï¼‰

**ä½ç½®**: ä¸»å†…å®¹åŒºåŸŸå·¦ä¾§  
**ä½œç”¨**: ç»†åˆ†åŠŸèƒ½æˆ–æ•°æ®ç­›é€‰  
**äº¤äº’**: ç‚¹å‡»åˆ‡æ¢ï¼Œè§¦å‘å³ä¾§å†…å®¹æ›´æ–°

#### ä¸¤ç§æ¨¡å¼

##### æ¨¡å¼1: åˆ—è¡¨è§†å›¾çš„ä¸‰çº§å¯¼èˆª
ç”¨äº**æ•°æ®ç­›é€‰**ï¼Œå¦‚"å…¨éƒ¨é¡¹ç›®"ã€"æˆ‘çš„é¡¹ç›®"

```typescript
listTertiaryNav: [
  { id: 'all', icon: 'ğŸ“', text: 'å…¨éƒ¨é¡¹ç›®' },
  { id: 'my', icon: 'ğŸ‘¤', text: 'æˆ‘çš„é¡¹ç›®' },
  { id: 'active', icon: 'ğŸ”„', text: 'è¿›è¡Œä¸­' },
  { id: 'archived', icon: 'ğŸ“¦', text: 'å·²å½’æ¡£' }
]
```

##### æ¨¡å¼2: è¯¦æƒ…è§†å›¾çš„ä¸‰çº§å¯¼èˆª
ç”¨äº**åŠŸèƒ½ç»†åˆ†**ï¼Œæ ¹æ®äºŒçº§TabåŠ¨æ€æ˜¾ç¤º

```typescript
detailTertiaryNav: {
  requirements: [
    { id: 'epics', text: 'Epicåˆ—è¡¨', url: '/c0/:id/requirements/epics' },
    { id: 'features', text: 'Featureåˆ—è¡¨', url: '/c0/:id/requirements/features' },
    { id: 'ssts', text: 'SSTSåˆ—è¡¨', url: '/c0/:id/requirements/ssts' }
  ],
  iteration: [
    { id: 'all', text: 'å…¨éƒ¨è¿­ä»£', url: '/c0/:id/iteration/all' },
    { id: 'active', text: 'è¿›è¡Œä¸­', url: '/c0/:id/iteration/active' }
  ]
}
```

---

## å®æ–½è§„èŒƒ

### 1. æ–°å»ºæ¨¡å—å®æ–½æ­¥éª¤

#### Step 1: é…ç½®å¯¼èˆªç»“æ„
åœ¨ `src/config/navigation.ts` ä¸­æ·»åŠ æ¨¡å—é…ç½®ï¼š

```typescript
export const NAVIGATION_CONFIG: NavigationConfig = {
  // ... å…¶ä»–æ¨¡å—
  
  // æ–°æ¨¡å—
  'c8': {
    title: 'æ–°æ¨¡å—åç§°',
    icon: 'ğŸ¯',
    description: 'æ¨¡å—æè¿°',
    
    // åˆ—è¡¨è§†å›¾çš„ä¸‰çº§å¯¼èˆªï¼ˆå¿…éœ€ï¼‰
    listTertiaryNav: [
      { id: 'all', icon: 'ğŸ“', text: 'å…¨éƒ¨' },
      { id: 'my', icon: 'ğŸ‘¤', text: 'æˆ‘çš„' }
    ],
    
    // è¯¦æƒ…è§†å›¾çš„äºŒçº§å¯¼èˆªï¼ˆå¯é€‰ï¼‰
    detailSecondaryNav: [
      { id: 'overview', text: 'æ¦‚è§ˆ', url: '/c8/:id/overview' },
      { id: 'detail', text: 'è¯¦æƒ…', url: '/c8/:id/detail' }
    ],
    
    // è¯¦æƒ…è§†å›¾çš„ä¸‰çº§å¯¼èˆªï¼ˆå¯é€‰ï¼‰
    detailTertiaryNav: {
      overview: [],  // æ¦‚è§ˆTabä¸éœ€è¦ä¸‰çº§å¯¼èˆª
      detail: [
        { id: 'info', text: 'åŸºæœ¬ä¿¡æ¯', url: '/c8/:id/detail/info' },
        { id: 'history', text: 'å†å²è®°å½•', url: '/c8/:id/detail/history' }
      ]
    }
  }
}
```

#### Step 2: åˆ›å»ºåˆ—è¡¨é¡µç»„ä»¶
```typescript
// src/pages/module/ModuleListPage.tsx
import React from 'react'
import { useNavigation } from '@/context/NavigationContext'
import EmptyPlaceholder from '@/components/common/EmptyPlaceholder'

export const ModuleListPage: React.FC = () => {
  const { selectedTertiaryTab } = useNavigation()
  
  // æ‰€æœ‰ Hooks å¿…é¡»åœ¨æ¡ä»¶è¿”å›ä¹‹å‰è°ƒç”¨
  const [data, setData] = useState([])
  const filteredData = useMemo(() => {
    // æ ¹æ® selectedTertiaryTab ç­›é€‰æ•°æ®
    return data
  }, [data, selectedTertiaryTab])
  
  // æ¡ä»¶æ¸²æŸ“é€»è¾‘
  if (selectedTertiaryTab === 'my' && filteredData.length === 0) {
    return <EmptyPlaceholder title="æˆ‘çš„æ•°æ®" description="æš‚æ— æ•°æ®" />
  }
  
  return (
    <div className="module-list-page">
      {/* åˆ—è¡¨å†…å®¹ */}
    </div>
  )
}
```

**âš ï¸ é‡è¦è§„åˆ™**:
- æ‰€æœ‰ Hooksï¼ˆuseState, useMemo, useEffectç­‰ï¼‰å¿…é¡»åœ¨ä»»ä½•æ¡ä»¶è¿”å›ä¹‹å‰è°ƒç”¨
- ä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ã€å¾ªç¯ä¸­è°ƒç”¨ Hooks

#### Step 3: åˆ›å»ºè¯¦æƒ…é¡µç»„ä»¶
```typescript
// src/pages/module/ModuleDetailPage.tsx
import React from 'react'
import { useParams } from 'react-router-dom'
import { useNavigation } from '@/context/NavigationContext'

export const ModuleDetailPage: React.FC = () => {
  const { id, tab } = useParams<{ id: string; tab: string }>()
  const { selectedSecondaryTab } = useNavigation()
  
  const renderContent = () => {
    const currentTab = selectedSecondaryTab || tab || 'overview'
    
    switch (currentTab) {
      case 'overview':
        return <OverviewView />
      case 'detail':
        return <DetailView />
      default:
        return <OverviewView />
    }
  }
  
  return (
    <div className="module-detail-page">
      {renderContent()}
    </div>
  )
}
```

#### Step 4: é…ç½®è·¯ç”±
```typescript
// src/App.tsx
<Routes>
  <Route path="/" element={<MainLayout />}>
    {/* åˆ—è¡¨è§†å›¾ */}
    <Route path="c8" element={<ModuleListPage />} />
    {/* è¯¦æƒ…è§†å›¾ */}
    <Route path="c8/:id/:tab" element={<ModuleDetailPage />} />
  </Route>
</Routes>
```

### 2. ä¸‰çº§å¯¼èˆªäº¤äº’è§„èŒƒ

#### åˆ—è¡¨è§†å›¾ä¸­çš„ä¸‰çº§å¯¼èˆª
```typescript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨ selectedTertiaryTab ç›‘å¬å˜åŒ–
const { selectedTertiaryTab } = useNavigation()

const filteredData = useMemo(() => {
  switch (selectedTertiaryTab) {
    case 'all':
      return allData
    case 'my':
      return myData
    case 'active':
      return activeData
    default:
      return allData
  }
}, [selectedTertiaryTab])
```

#### ç©ºçŠ¶æ€å¤„ç†
```typescript
// å¦‚æœæŸä¸ªTabæš‚æ— åŠŸèƒ½ï¼Œæ˜¾ç¤ºå ä½ç¬¦
if (selectedTertiaryTab === 'my' && !hasData) {
  return (
    <EmptyPlaceholder 
      title="æˆ‘çš„æ•°æ®"
      description="è¿˜åœ¨åŠ é€Ÿç ”å‘ä¸­..."
    />
  )
}
```

### 3. URLä¸çŠ¶æ€åŒæ­¥è§„èŒƒ

#### URLæ ¼å¼æ ‡å‡†
```
åˆ—è¡¨è§†å›¾: /{module}
è¯¦æƒ…è§†å›¾: /{module}/{id}/{secondaryTab}
```

#### å¯¼èˆªæ–¹æ³•
```typescript
const { openDetail, closeDetail, switchSecondaryTab } = useNavigation()

// æ‰“å¼€è¯¦æƒ…
openDetail('item-001')  // è‡ªåŠ¨å¯¼èˆªåˆ° /c0/item-001/overview

// åˆ‡æ¢Tab
switchSecondaryTab('plan')  // è‡ªåŠ¨å¯¼èˆªåˆ° /c0/item-001/plan

// è¿”å›åˆ—è¡¨
closeDetail()  // æˆ–ä½¿ç”¨ switchViewMode('list')
```

---

## ä»£ç è§„èŒƒ

### 1. React Hooks è§„åˆ™

**âŒ é”™è¯¯ç¤ºä¾‹**:
```typescript
export const Component = () => {
  const { selectedTab } = useNavigation()
  
  // âŒ é”™è¯¯ï¼šåœ¨æ¡ä»¶è¿”å›ä¹‹å‰ä½¿ç”¨äº† Hook
  if (!selectedTab) {
    return <Empty />
  }
  
  // âŒ è¿™ä¸ª Hook åœ¨æŸäº›æƒ…å†µä¸‹ä¸ä¼šæ‰§è¡Œ
  const data = useMemo(() => { ... }, [])
  
  return <div>{data}</div>
}
```

**âœ… æ­£ç¡®ç¤ºä¾‹**:
```typescript
export const Component = () => {
  const { selectedTab } = useNavigation()
  
  // âœ… æ­£ç¡®ï¼šæ‰€æœ‰ Hooks åœ¨æ¡ä»¶è¿”å›ä¹‹å‰
  const data = useMemo(() => { ... }, [selectedTab])
  
  // âœ… æ¡ä»¶è¿”å›åœ¨æ‰€æœ‰ Hooks ä¹‹å
  if (!selectedTab) {
    return <Empty />
  }
  
  return <div>{data}</div>
}
```

### 2. å‘½åè§„èŒƒ

#### ç»„ä»¶å‘½å
```typescript
// åˆ—è¡¨é¡µ
{Module}ListPage.tsx       // å¦‚: ProjectListPage.tsx
// è¯¦æƒ…é¡µ
{Module}DetailPage.tsx     // å¦‚: ProjectDetailPage.tsx
// è§†å›¾ç»„ä»¶
{Module}{View}View.tsx     // å¦‚: ProjectTreeView.tsx
```

#### å˜é‡å‘½å
```typescript
selectedTertiaryTab    // ä¸‰çº§å¯¼èˆªé€‰ä¸­é¡¹ï¼ˆä½¿ç”¨åˆ«åä¿æŒä¸€è‡´ï¼‰
selectedTertiaryItem   // ä¸‰çº§å¯¼èˆªé€‰ä¸­é¡¹ï¼ˆå†…éƒ¨ä½¿ç”¨ï¼‰
selectedSecondaryTab   // äºŒçº§å¯¼èˆªé€‰ä¸­é¡¹
selectedModule         // ä¸€çº§å¯¼èˆªé€‰ä¸­æ¨¡å—
```

### 3. çŠ¶æ€ç®¡ç†è§„èŒƒ

#### ä½¿ç”¨ NavigationContext
```typescript
import { useNavigation } from '@/context/NavigationContext'

const {
  // çŠ¶æ€
  selectedModule,         // å½“å‰æ¨¡å—
  viewMode,              // è§†å›¾æ¨¡å¼
  selectedSecondaryTab,  // äºŒçº§Tab
  selectedTertiaryTab,   // ä¸‰çº§å¯¼èˆªï¼ˆåˆ«åï¼‰
  
  // æ–¹æ³•
  switchModule,          // åˆ‡æ¢æ¨¡å—
  openDetail,            // æ‰“å¼€è¯¦æƒ…
  closeDetail,           // å…³é—­è¯¦æƒ…
  switchSecondaryTab,    // åˆ‡æ¢äºŒçº§Tab
  switchTertiaryItem,    // åˆ‡æ¢ä¸‰çº§å¯¼èˆª
} = useNavigation()
```

#### ä¸è¦ç›´æ¥æ“ä½œURL
```typescript
// âŒ é”™è¯¯ï¼šä¸è¦ç›´æ¥ä½¿ç”¨ navigate
navigate('/c0/proj-001/plan')

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ NavigationContext çš„æ–¹æ³•
openDetail('proj-001')
switchSecondaryTab('plan')
```

---

## æœ€ä½³å®è·µ

### 1. æ¸è¿›å¼å®æ–½

#### Phase 1: åŸºç¡€åŠŸèƒ½
- å®ç°åˆ—è¡¨è§†å›¾
- æ·»åŠ "å…¨éƒ¨"ä¸‰çº§å¯¼èˆª
- åŸºç¡€æ•°æ®å±•ç¤º

#### Phase 2: æ•°æ®ç­›é€‰
- æ·»åŠ "æˆ‘çš„"ã€"è¿›è¡Œä¸­"ç­‰ç­›é€‰
- å®ç°ç©ºçŠ¶æ€å ä½ç¬¦

#### Phase 3: è¯¦æƒ…è§†å›¾
- å®ç°è¯¦æƒ…é¡µ
- æ·»åŠ äºŒçº§Tabå¯¼èˆª
- é›†æˆå…³é”®åŠŸèƒ½ç»„ä»¶

#### Phase 4: å®Œå–„ç»†èŠ‚
- æ·»åŠ è¯¦æƒ…è§†å›¾çš„ä¸‰çº§å¯¼èˆª
- å®Œå–„å„Tabå†…å®¹
- ä¼˜åŒ–äº¤äº’ä½“éªŒ

### 2. æ€§èƒ½ä¼˜åŒ–

#### ä½¿ç”¨ useMemo ç¼“å­˜è®¡ç®—
```typescript
const filteredData = useMemo(() => {
  return data.filter(item => /* ç­›é€‰é€»è¾‘ */)
}, [data, selectedTertiaryTab])
```

#### ä½¿ç”¨ useCallback ç¼“å­˜å›è°ƒ
```typescript
const handleClick = useCallback((id: string) => {
  openDetail(id)
}, [openDetail])
```

### 3. ç”¨æˆ·ä½“éªŒ

#### æä¾›æ¸…æ™°çš„è§†è§‰åé¦ˆ
- ä¸‰çº§å¯¼èˆªé«˜äº®å½“å‰é€‰ä¸­é¡¹
- ç©ºçŠ¶æ€æ˜¾ç¤ºå‹å¥½çš„å ä½ç¬¦
- åŠ è½½çŠ¶æ€æ˜¾ç¤ºLoadingæŒ‡ç¤ºå™¨

#### ä¿æŒæ“ä½œä¸€è‡´æ€§
- æ‰€æœ‰æ¨¡å—ä½¿ç”¨ç›¸åŒçš„å¯¼èˆªæ¨¡å¼
- è¿”å›æ“ä½œä½¿ç”¨ç»Ÿä¸€çš„æˆ¿å­å›¾æ ‡
- ç­›é€‰é€»è¾‘ä¿æŒä¸€è‡´

---

## å¸¸è§é—®é¢˜

### Q1: ä¸‰çº§å¯¼èˆªä¸åˆ‡æ¢æ€ä¹ˆåŠï¼Ÿ

**åŸå› **: å¯èƒ½ä½¿ç”¨äº†é”™è¯¯çš„çŠ¶æ€å˜é‡å

**è§£å†³**:
```typescript
// âœ… æ­£ç¡®
const { selectedTertiaryTab } = useNavigation()

// âŒ é”™è¯¯
const { selectedTertiaryItem } = useNavigation()  // è™½ç„¶ä¹Ÿèƒ½ç”¨ï¼Œä½†ä¸æ¨è
```

### Q2: ç‚¹å‡»ä¸‰çº§å¯¼èˆªåé¡µé¢ç™½å±ï¼Ÿ

**åŸå› **: React Hooks è§„åˆ™è¿å

**è§£å†³**: ç¡®ä¿æ‰€æœ‰ Hooks åœ¨æ¡ä»¶è¿”å›ä¹‹å‰è°ƒç”¨
```typescript
// âœ… æ­£ç¡®é¡ºåº
const data = useMemo(() => {...}, [])  // Hookåœ¨å‰
if (condition) return <Empty />        // æ¡ä»¶è¿”å›åœ¨å
```

### Q3: ä»è¯¦æƒ…é¡µè¿”å›åˆ—è¡¨é¡µåä¸‰çº§å¯¼èˆªæœªé€‰ä¸­ï¼Ÿ

**åŸå› **: `switchViewMode` æ²¡æœ‰æ­£ç¡®æ¢å¤ä¸‰çº§å¯¼èˆªçŠ¶æ€

**è§£å†³**: å·²åœ¨ NavigationContext ä¸­å®ç°è‡ªåŠ¨æ¢å¤é€»è¾‘

### Q4: æŸä¸ªTabä¸éœ€è¦ä¸‰çº§å¯¼èˆªæ€ä¹ˆåŠï¼Ÿ

**è§£å†³**: åœ¨é…ç½®ä¸­è®¾ç½®ä¸ºç©ºæ•°ç»„
```typescript
detailTertiaryNav: {
  overview: [],  // æ¦‚è§ˆTabä¸éœ€è¦ä¸‰çº§å¯¼èˆª
  plan: [],      // è§„åˆ’Tabä¸éœ€è¦ä¸‰çº§å¯¼èˆª
}
```

### Q5: å¦‚ä½•æ·»åŠ é»˜è®¤é€‰ä¸­çš„ä¸‰çº§å¯¼èˆªï¼Ÿ

**è§£å†³**: NavigationContext ä¼šè‡ªåŠ¨é€‰ä¸­ç¬¬ä¸€é¡¹ï¼Œæ— éœ€æ‰‹åŠ¨å¤„ç†

---

## é™„å½•

### A. å®Œæ•´ç¤ºä¾‹ï¼šC0é¡¹ç›®ç®¡ç†æ¨¡å—

å‚è€ƒå®ç°ï¼š
- é…ç½®: `src/config/navigation.ts` - c0é…ç½®
- åˆ—è¡¨é¡µ: `src/pages/projects/ProjectListPage.tsx`
- è¯¦æƒ…é¡µ: `src/pages/projects/ProjectDetailPage.tsx`
- è§†å›¾ç»„ä»¶: `src/pages/projects/views/ProjectTreeView.tsx`

### B. ç›¸å…³æ–‡ä»¶æ¸…å•

| æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|---------|------|
| `src/config/navigation.ts` | å¯¼èˆªé…ç½® |
| `src/context/NavigationContext.tsx` | å¯¼èˆªçŠ¶æ€ç®¡ç† |
| `src/components/navigation/PrimaryNav.tsx` | ä¸€çº§å¯¼èˆª |
| `src/components/navigation/SecondaryNav.tsx` | äºŒçº§å¯¼èˆªï¼ˆå·²åºŸå¼ƒï¼Œé›†æˆåˆ°Headerï¼‰ |
| `src/components/navigation/TertiaryNav.tsx` | ä¸‰çº§å¯¼èˆª |
| `src/components/layout/HeaderWithNav.tsx` | Headerï¼ˆå«äºŒçº§å¯¼èˆªï¼‰ |
| `src/layouts/MainLayout.tsx` | ä¸»å¸ƒå±€ |

### C. å…³é”®ç±»å‹å®šä¹‰

```typescript
// å¯¼èˆªé…ç½®ç±»å‹
interface NavigationModule {
  title: string
  icon: string
  description: string
  actions?: ActionButton[]
  listTertiaryNav?: NavItem[]
  detailSecondaryNav?: NavItem[]
  detailTertiaryNav?: Record<string, NavItem[]>
}

// å¯¼èˆªçŠ¶æ€ç±»å‹
interface NavigationState {
  selectedModule: string
  viewMode: ViewMode
  selectedSecondaryTab: string
  selectedTertiaryItem: string
  detailId: string | null
}

// è§†å›¾æ¨¡å¼
type ViewMode = 'list' | 'detail'
```

---

**æ–‡æ¡£ç»´æŠ¤**:
- åˆ›å»ºæ—¥æœŸ: 2026-01-28
- æœ€åæ›´æ–°: 2026-01-28
- ç»´æŠ¤äºº: å¼€å‘å›¢é˜Ÿ
- çŠ¶æ€: âœ… æ­£å¼ç‰ˆ

**ç›¸å…³æ–‡æ¡£**:
- ã€Šç»„ä»¶å¼€å‘è§„èŒƒã€‹
- ã€Šè·¯ç”±é…ç½®æŒ‡å—ã€‹
- ã€ŠçŠ¶æ€ç®¡ç†æœ€ä½³å®è·µã€‹
