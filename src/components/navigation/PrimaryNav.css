/**
 * PrimaryNav 样式
 */

.primary-nav {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  background: var(--color-bg-primary);
  border-right: 1px solid var(--color-border-secondary);
  transition: background-color 0.3s;
}

/* 80px宽度时去除右边框，减少间隙 */
.primary-nav.collapsed {
  border-right: none;
}

/* Logo区域 */
.nav-logo {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 10px;
  height: 64px;
  padding: 0 16px;
  border-bottom: 1px solid var(--color-border-secondary);
  background: var(--color-bg-primary);
  transition: all 0.3s;
}

/* 收起状态下Logo区域居中，减少padding */
.primary-nav.collapsed .nav-logo {
  justify-content: center;
  padding: 0;
  gap: 0;
}

.nav-logo .logo-icon {
  flex-shrink: 0;
  line-height: 1;
  font-size: 20px;
  filter: grayscale(0%) hue-rotate(0deg);
  transition: filter 0.3s;
}

/* 橙色主题下的Logo */
[data-theme='orange'] .nav-logo .logo-icon {
  filter: grayscale(0%) hue-rotate(20deg) saturate(1.2);
}

/* 紫色主题下的Logo */
[data-theme='purple'] .nav-logo .logo-icon {
  filter: grayscale(0%) hue-rotate(260deg) saturate(0.9);
}

.nav-logo .logo-text {
  font-size: 16px;
  font-weight: 600;
  color: var(--color-primary);
  white-space: nowrap;
  transition: color 0.3s;
  letter-spacing: 0.5px;
}

.primary-nav-menu {
  flex: 1;
  border-right: none;
  overflow-y: auto;
  overflow-x: hidden;
  margin-bottom: 48px; /* 进一步减少底部margin */
  background: #ffffff;
}

/* 收起状态下去除Menu的默认padding */
.primary-nav-menu.ant-menu-inline-collapsed {
  padding: 0 !important;
}

/* 移除Ant Design默认的菜单项after伪元素 */
.primary-nav-menu .ant-menu-item::after {
  display: none !important;
}

/* 导航项内容 */
.nav-item-content {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.nav-item-title {
  font-size: 14px;
  font-weight: 500;
  color: #262626;
  line-height: 1.4;
  transition: color 0.3s;
}

.nav-item-desc {
  font-size: 12px;
  color: #8c8c8c;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  transition: color 0.3s;
}

/* 菜单项样式 */
.primary-nav-menu .ant-menu-item {
  height: auto;
  line-height: 1.5;
  padding: 10px 16px;
  margin: 2px 0;
  border-radius: 0;
  border-left: 3px solid transparent;
  transition: all 0.3s;
  position: relative;
}

/* 选中状态 - 淡色背景 + 主题色文字 + 左侧主题色边框 */
.primary-nav-menu .ant-menu-item-selected {
  background-color: var(--color-bg-selected) !important;
  border-left-color: var(--color-primary) !important;
  color: var(--color-primary) !important;
}

.primary-nav-menu .ant-menu-item-selected .nav-item-title {
  color: var(--color-primary) !important;
  font-weight: 600;
}

.primary-nav-menu .ant-menu-item-selected .nav-item-desc {
  color: var(--color-primary) !important;
  opacity: 0.8;
}

/* Hover状态 - 淡灰色背景 */
.primary-nav-menu .ant-menu-item:hover:not(.ant-menu-item-selected) {
  background-color: #f5f5f5 !important;
  border-left-color: transparent !important;
}

/* 图标颜色 */
.primary-nav-menu .ant-menu-item-selected .anticon {
  color: var(--color-primary) !important;
}

/* 收起状态下的菜单项样式优化 - 图标完全居中 */
.primary-nav-menu.ant-menu-inline-collapsed .ant-menu-item {
  padding: 0 !important;
  margin: 0;
  border-left: none !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  height: 56px;
  width: 100% !important;
}

/* 收起状态下的图标容器 */
.primary-nav-menu.ant-menu-inline-collapsed .ant-menu-item .ant-menu-item-icon {
  margin: 0 !important;
  font-size: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* 收起状态下隐藏文字 */
.primary-nav-menu.ant-menu-inline-collapsed .ant-menu-item .nav-item-content {
  display: none !important;
}

/* 收起状态下选中效果 - 使用背景色，去除左边框避免偏移 */
.primary-nav-menu.ant-menu-inline-collapsed .ant-menu-item-selected {
  background-color: var(--color-bg-selected) !important;
  border-left: none !important;
  padding: 0 !important;
  position: relative;
}

/* 使用伪元素实现左侧选中指示器，避免影响居中 */
.primary-nav-menu.ant-menu-inline-collapsed .ant-menu-item-selected::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 3px;
  height: 24px;
  background-color: var(--color-primary);
  border-radius: 0 2px 2px 0;
}

/* 收起状态下hover效果 */
.primary-nav-menu.ant-menu-inline-collapsed .ant-menu-item:hover:not(.ant-menu-item-selected) {
  background-color: #f5f5f5 !important;
}

/* 导航底部区域 */
.nav-footer {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 8px;
  border-top: 1px solid var(--color-border-secondary);
  background: var(--color-bg-primary);
  transition: all 0.3s;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 4px;
}

/* 收起状态下底部区域完全居中 */
.primary-nav.collapsed .nav-footer {
  padding: 8px 4px;
  justify-content: center;
  gap: 4px;
}

/* 固定/悬浮切换按钮 */
.nav-pin-switcher {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  cursor: pointer;
  transition: all 0.3s;
  background: transparent;
  border-radius: 6px;
  color: var(--color-text-secondary);
  user-select: none;
  flex-shrink: 0;
}

/* 折叠/展开按钮 */
.nav-collapse-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  cursor: pointer;
  border-radius: 6px;
  transition: all 0.2s;
  background: transparent;
  color: var(--color-text-secondary);
  flex-shrink: 0;
}

.nav-collapse-btn:hover {
  background-color: var(--color-bg-secondary);
  color: var(--color-primary);
}

.nav-collapse-btn .collapse-icon {
  font-size: 16px;
  transition: transform 0.2s;
}

.nav-collapse-btn:hover .collapse-icon {
  transform: scale(1.1);
}

/* 图标样式 */
.nav-pin-switcher .pin-icon {
  font-size: 18px;
  transition: all 0.3s;
}

/* Hover效果 */
.nav-pin-switcher:hover {
  background: var(--color-bg-secondary);
}

.nav-pin-switcher:hover .pin-icon {
  color: var(--color-primary);
  transform: scale(1.15) rotate(-15deg);
}

/* 激活状态（已固定） */
.nav-pin-switcher:has(.anticon-pushpin-filled) .pin-icon {
  color: var(--color-primary);
}

/* 点击效果 */
.nav-pin-switcher:active {
  transform: scale(0.95);
}

/* 禁用收起状态下的菜单项 tooltip */
.ant-menu-inline-collapsed-tooltip {
  display: none !important;
}

/* 响应式 */
@media (max-width: 768px) {
  .nav-logo {
    padding: 0 16px;
  }
  
  .primary-nav-menu .ant-menu-item {
    padding: 10px 16px;
  }
  
  .nav-footer {
    padding: 8px 12px;
  }
}
